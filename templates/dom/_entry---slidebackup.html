{#
 # Homepage template
 # ---------------
 #
 # When this template gets loaded, it will be because someone has accessed
 # http://yoursite.com/ (without any URI). Craft checks to see if you have
 # a Single section set to be the Homepage (as you do, by default), and
 # loads the section’s Template (this file). A special ‘entry’ variable
 # will already be set for you, assigned to the Homepage entry.
 #
 # It's worth noting that even if you didn't have a Homepage Single section,
 # as long as this template remains at craft/templates/index.html, it
 # would still be the one to get loaded when accessing http://yoursite.com/,
 # albeit without an ‘entry’ variable already set for you.
 #
 # See this page for more details on how Craft routes requests:
 # http://craftcms.com/docs/routing
 #}

{% extends "_layout" %}

{% block bodyClass %}dom-list-view dom-view{% endblock bodyClass %}
{% block footerScripts %}
    <script src="{{ siteUrl }}assets/js/vendor/angular.min.js"></script>
    <script src="{{ siteUrl }}assets/js/vendor/calculator.min.js?v=1.0.7"></script>
{% endblock footerScripts %}

{# SEOP #}
{% set custom_seo = true %}
{% set finalKeywords = [] %}
{% set finalDescription = [] %}
{% set finalContent = [] %}

{% if entry.seopKeys is not empty %}

    {% for elem in entry.seopKeys %}
        {% set currentLoopIndex = loop.index %}
        {% set keywordIndex = elem.keywordKey - 1 %}
        {% set descriptionIndex = elem.descriptionKey - 1 %}
        {% set contentIndex = elem.contentKey - 1 %}

        {% if entry.seo|length %}
            {% for seoObject in entry.seo %}
                {% if currentLoopIndex == loop.index %}
                    {# Entry keywords #}
                        {% if seoObject.keywords|length and keywordIndex >= 0 %}
                            {% if seoObject.keywords[keywordIndex] is defined %}
                                {% set finalKeywords = finalKeywords|merge([seoObject.keywords[keywordIndex].keyword]) %}
                            {% endif %}
                        {% endif %}

                    {# Entry descriptions #}
                        {% if seoObject.descriptions|length and descriptionIndex >= 0 %}
                            {% if seoObject.descriptions[descriptionIndex] is defined %}
                                {% set finalDescription = finalDescription|merge([seoObject.descriptions[descriptionIndex].description]) %}
                            {% endif %}
                        {% endif %}

                    {# Entry content #}
                        {% if seoObject.contents|length and contentIndex >= 0 %}
                            {% if seoObject.contents[contentIndex] is defined %}
                                {% set finalContent = finalContent|merge([seoObject.contents[contentIndex].content]) %}
                            {% endif %}
                        {% endif %}

                {% endif %}
            {% endfor %}
        {% endif %}

    {% endfor %}

{% endif %}

{% block customSeo %}

    {% set coverImage = entry.vizualy.first().url('houseFacebookOgSize') %}
    <title>{{ entry.nazov }} - {{ siteName }}</title>

    {% if entry.seopKeys is not empty %}

        <!-- SEOP Keywords -->
        <meta name="keywords" content="{{ finalKeywords|join() }}" />

        <!-- SEOP Description -->
        {% set finalDescription = finalDescription|join(' ') %}
        <meta name="description" content="{{ finalDescription }}" />
        <meta property="og:description" content="{{ finalDescription }}" />
        <meta name="twitter:description" content="{{ finalDescription }}" />

        <meta property="fb:app_id" content="">
        <meta property="og:url" content="{{ siteUrl }}" />
        <meta property="og:type" content="website" />
        <meta property="og:title" content="{{ entry.nazov }} - {{ siteName }}" />
        <meta property="og:image" content="{{ coverImage }}" />

        <meta property="og:site_name" content="{{ siteName }}" />
        <meta property="og:locale" content="sk" />

        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="Familyhouse" />
        <meta name="twitter:url" content="{{ siteUrl }}" />
        <meta name="twitter:title" content="{{ entry.nazov }} - {{ siteName }}" />
        <meta name="twitter:image" content="{{ coverImage }}" />

    {% else %}
        {% hook "seo" %}
    {% endif %}

{% endblock customSeo %}

{% block content %}

    {% set house = entry %}

    {# Calculator #}
        {% set calculatorIsDisabled = false %}
        {% set calculatorData = [] %}
        {% set colA = [] %}
        {% set colC = [] %}
        {% set colD = [] %}
        {% set colHolodom = [] %}
        {% set colNakluc = [] %}

        {% if entry.energClass|length %}
            {% for tableRow in entry.energClass %}
                {% if tableRow.primEnergClass > 0 and tableRow.totalEnergCons > 0 and tableRow.monthlyCost > 0 and tableRow.holodomPrice > 0 and tableRow.kompletPrice > 0 %}
                    {% set colA = colA|merge({(tableRow.type): tableRow.primEnergClass}) %}
                    {% set colC = colC|merge({(tableRow.type): tableRow.totalEnergCons}) %}
                    {% set colD = colD|merge({(tableRow.type): tableRow.monthlyCost}) %}
                    {% set colHolodom = colHolodom|merge({(tableRow.type): tableRow.holodomPrice}) %}
                    {% set colNakluc = colNakluc|merge({(tableRow.type): tableRow.kompletPrice}) %}
                {% endif %}
            {% endfor %}

            {% set calculatorData = calculatorData|merge({'a': colA, 'c': colC, 'd': colD, 'holodom': colHolodom, 'nakluc': colNakluc}) %}

        {% else %}
            {% set calculatorIsDisabled = true %}
        {% endif %}

    <!-- CONTENT CONTAINER -->
        <div class="main grid-2-layout">

            <!-- FILTER + HOUSE LISTING -->
                <div class="filter-house-listing" data-entry-id="{{ entry.id }}">
                    {% embed '_components/_left' %}{% endembed %}

                    <!-- HOUSE LISTING -->
                        <div class="house-listing">
                            <div>
                                {% set filterEntry = craft.entries.section('nastavenia').first() %}

                                {# typ #}
                                    {% set filterUrl = '' %}
                                    {% set filterValue = '' %}
                                    {% for option in filterEntry.typ.options %}
                                        {% if entry.typ == option.value %}
                                            {% set filterUrl = 'typ_' ~ loop.index %}
                                            {% set filterValue = option.value %}
                                        {% endif %}
                                    {% endfor %}

                                <!-- HOUSE DETAILS-->
                                    <div class="house-details _outter">

                                        <div class="house-header">
                                            <div>
                                                <div class="name">
                                                    <div class="counter">#{% if entry.cisloDomu is not empty %}{{ entry.cisloDomu }}{% else %}{{ entry.id }}{% endif %}</div>
                                                    <div>{{ entry.nazov }}</div>
                                                </div>
                                                {% if entry.textNadChiarouDetailView is not empty %}
                                                    <div>
                                                        <div>{{ entry.textNadChiarouDetailView }}</div>
                                                    </div>
                                                {% endif %}

                                                <a href="https://familyhouse.sk/referencie?house-id={{ entry.id }}" class="find-on-map">
                                                    <span>{{ "Realizované projekty"|t }}</span>
                                                    <svg style="width:34px;height:34px" viewBox="0 0 24 24">
                                                        <path fill="red" d="M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M14,6.11L8,4V15.89L9,16.24V16.5C9,17.14 9.09,17.76 9.26,18.34L8,17.9L2.66,19.97L2.5,20A0.5,0.5 0 0,1 2,19.5V4.38C2,4.15 2.15,3.97 2.36,3.9L8,2L14,4.1L19.34,2H19.5A0.5,0.5 0 0,1 20,2.5V11.81C18.83,10.69 17.25,10 15.5,10C15,10 14.5,10.06 14,10.17V6.11Z" />
                                                    </svg>
                                                </a>
                                            </div>
                                            <div class="beadcrumbs">
                                                <a href="{{ siteUrl }}projekty-domov" class="elem">{{ "projekty domov"|t }}</a>
                                                <a href="{{ siteUrl }}filter?{{ filterUrl }}={{ filterValue }}" class="elem">{{ entry.typ.label }}</a>
                                                <div>{{ entry.nazov }}</div>
                                            </div>
                                        </div>

                                        <!-- HEADER DETAILS -->
                                            {% set coverImage = entry.vizualy.first() %}
                                            <img class="mobile-house-cover _details" src="{{ coverImage.url('houseCoverImage') }}" alt="{{ coverImage.title }} - {{ entry.nazov }} | {{ siteName }}" />

                                            <div class="house-entry-gallery-slider" id="house-entry-gallery-slider">
                                                <div class="swiper-container">
                                                    <div class="swiper-wrapper">
                                                        <div class="swiper-slide">{{ "Slide 1"|t }}</div>
                                                    </div>
                                                    <div class="swiper-button-prev"></div>
                                                    <div class="swiper-button-next"></div>
                                                </div>
                                            </div>



                                            <div class="details-header" data-cover="{{ coverImage.url('houseCoverImage') }}" style="background: url({{ coverImage.url('houseCoverImage') }}) no-repeat;background-position: center; background-size: cover">
                                                <div class="details _entry" style="display: none">

                                                    <!-- NAME -->
                                                        <div class="name">
                                                            {{ "Volám sa"|t }}
                                                            <strong>{{ entry.nazov }}</strong>
                                                        </div>
                                                    <!-- /NAME -->

                                                    <!-- SIZE -->
                                                        <div class="size">
                                                            {{ "Úžitková<br>plocha"|t }}
                                                            <strong>{{ entry.uzhitkovaPlocha }} m²</strong>
                                                        </div>
                                                    <!-- /SIZE -->

                                                    <!-- PRICE -->
                                                        <div class="price">
                                                            {{ "Komplet<br>s DPH"|t|raw }}
                                                            <strong>{{ entry.kompletSDph }} €</strong>
                                                        </div>
                                                    <!-- /PRICE -->

                                                    <!-- PROJECT -->
                                                        <div class="project">
                                                            {{ "Projekt:"|t }}
                                                            <strong>{{ entry.projekt }} €</strong>
                                                            {% if entry.mesacne > 0 %}
                                                                {{ "Mesačne <br>len za"|t|raw }}
                                                                <strong class="monthly">{{ entry.mesacne }} €</strong>
                                                            {% endif %}
                                                        </div>
                                                    <!-- /PROJECT -->

                                                    <!-- DETAILS LEFT -->
                                                        <div class="details-left">
                                                            <a href="{{ siteUrl }}kontakt" class="contact-redirect">
                                                                <div>{{ "Chcem <br>rodinný<br>dom"|t|raw }}</div>
                                                            </a>
                                                        </div>
                                                    <!-- /DETAILS LEFT -->

                                                </div>

                                                <!-- MOBILE CONTENT -->
                                                    <div class="mobile-details">
                                                        <!-- NAME -->
                                                        <div class="name">
                                                            {{ "Volám sa"|t }}
                                                            <strong>{{ entry.nazov }}</strong>
                                                        </div>
                                                        <!-- /NAME -->

                                                        <!-- SIZE -->
                                                        <div class="size">
                                                            {{ "Úžitková plocha"|t }}
                                                            <strong>{{ entry.uzhitkovaPlocha }} m²</strong>
                                                        </div>
                                                        <!-- /SIZE -->
                                                    </div>
                                                <!-- /MOBILE CONTENT -->
                                            </div>
                                        <!-- /HEADER DETAILS -->

                                        <!-- DETAILS -->
                                            <div class="outside-details">
                                                <div class="details _entry">

                                                    <!-- NAME -->
                                                    <div class="name">
                                                        {{ "Volám sa"|t }}
                                                        <strong>{{ entry.nazov }}</strong>
                                                    </div>
                                                    <!-- /NAME -->

                                                    <!-- SIZE -->
                                                    <div class="size">
                                                        {{ "Úžitková<br>plocha"|t }}
                                                        <strong>{{ entry.uzhitkovaPlocha }} m²</strong>
                                                    </div>
                                                    <!-- /SIZE -->

                                                    <!-- PRICE -->
                                                    <div class="price">
                                                        {{ "Komplet<br>s DPH"|t|raw }}
                                                        <strong>{{ entry.kompletSDph }} €</strong>
                                                    </div>
                                                    <!-- /PRICE -->

                                                    <!-- PROJECT -->
                                                    <div class="project">
                                                        {{ "Projekt:"|t }}
                                                        <strong>{{ entry.projekt }} €</strong>
                                                        {% if entry.mesacne > 0 %}
                                                        {{ "Mesačne <br>len za"|t|raw }}
                                                        <strong class="monthly">{{ entry.mesacne }} €</strong>
                                                        {% endif %}
                                                    </div>
                                                    <!-- /PROJECT -->

                                                    <!-- DETAILS LEFT -->
                                                    <div class="details-left">
                                                        <a href="{{ siteUrl }}kontakt" class="contact-redirect">
                                                            <div>{{ "Chcem <br>rodinný<br>dom"|t|raw }}</div>
                                                        </a>
                                                    </div>
                                                    <!-- /DETAILS LEFT -->

                                                    <!-- PRICE -->
                                                        <div class="price small">
                                                            {{ "Holodom<br>s DPH"|t|raw }}
                                                            <strong>{{ entry.holodomSDph }} €</strong>
                                                        </div>
                                                    <!-- /PRICE -->

                                                    {% if entry.mesacne is not empty %}
                                                        <!-- PRICE -->
                                                        <div class="price small">
                                                            {{ "Mesačne<br>"|t|raw }}
                                                            <strong>{{ entry.mesacne }} €</strong>
                                                        </div>
                                                        <!-- /PRICE -->
                                                    {% endif %}

                                                </div>
                                            </div>
                                        <!-- /DETAILS -->

                                        <!-- MOBILE CONTENT OUTTER -->
                                            <div class="mobile-content-outter">
                                                <div class="left-side">
                                                    <div class="grid-list {% if house.mesacne > 0 %} items-3 {% endif %}">
                                                        <!-- SIZE -->
                                                            <div class="size">
                                                                {{ "Komplet<br>s dph:"|t }}
                                                                <strong>{{ entry.kompletSDph }} €</strong>
                                                            </div>
                                                        <!-- /SIZE -->

                                                        <!-- PRICE -->
                                                        <div class="price">
                                                            {{ "Holodom<br>s DPH"|t|raw }}
                                                            <strong>{{ entry.holodomSDph }} €</strong>
                                                        </div>
                                                        <!-- /PRICE -->

                                                        <!-- PROJECT -->
                                                            <div class="project">
                                                                {{ "Projekt:"|t }}
                                                                <strong>{{ entry.projekt }} €</strong>
                                                            </div>
                                                        <!-- /PROJECT -->

                                                        <!-- MONTHLY -->
                                                            {% if entry.mesacne > 0 %}
                                                                <div class="monthly">
                                                                    {{ "Mesačne <br>len za"|t|raw }}
                                                                    <strong class="monthly">{{ entry.mesacne }} €</strong>
                                                                </div>
                                                            {% endif %}
                                                        <!-- /MONTHLY -->
                                                    </div>
                                                    <div>
                                                        <div>{{ entry.upperText }}</div>
                                                        <div>{{ entry.bottomText }}</div>
                                                    </div>
                                                </div>
                                                <div class="right-side">
                                                    <a href="{{ siteUrl }}kontakt">
                                                        <div>{{ "Mám <br>záujem"|t }}</div>
                                                        <div></div>
                                                    </a>
                                                </div>
                                            </div>
                                        <!-- /MOBILE CONTENT OUTTER -->

                                        <!-- IMAGE GALLERY -->
                                            <div class="image-gallery">
                                                {% for gallery in entry.vizualy %}
                                                    <div class="{% if loop.index > 3 %}visually-hidden{% endif %}" data-fancybox="gallery" href="{{ gallery.url('housedetailgallerythumbs1600w') }}">


                                                        <img srcset="{{ gallery.url('houseDetailGalleryThumbs320w') }} 320w,
                                                             {{ gallery.url('houseDetailGalleryThumbs480w') }} 480w"
                                                             sizes="(max-width: 320px) 280px,
                                                            (max-width: 480px) 440px"
                                                             src="{{ gallery.url('houseDetailGalleryThumbs480w') }}" alt="{{ gallery.title }} - {{ entry.nazov }} | Familyhouse"/>
                                                    </div>
                                                {% endfor %}
                                            </div>
                                        <!-- /IMAGE GALLERY -->

                                        <!-- CONTENT -->
                                            <div class="entry-content">
                                                <div>
                                                    <p>{{ finalContent|join(' ') }}</p>
                                                </div>
                                            </div>
                                        <!-- /CONTENT -->

                                        <!-- GLOBAL -->
                                        {% if akoPostupovat.akoPostupovatMatrix is not empty %}
                                            <div class="global-content">
                                                {% for _matrixNode in akoPostupovat.akoPostupovatMatrix %}
                                                    <div class="node-block">
                                                        <div class="icon">
                                                            <svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="#000000" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>
                                                        </div>
                                                        <div class="title">{{ _matrixNode.akoPostupovatMatrixTitleTitle }}</div>
                                                        <div class="description-node">
                                                            {{ _matrixNode.akoPostupovatMatrixTextText }}

                                                            <a href="https://familyhouse.sk/ako-postupovat" class="more-node">
                                                                <span>{{ "Viac info"|t }}</span>
                                                            </a>
                                                        </div>
                                                    </div>


                                                {% endfor %}
                                            </div>
                                        {% endif %}
                                        <!-- GLOBAL -->

                                        <!-- TABBED DETAILS -->
                                            <div class="tabbed-details">
                                                <div class="tab-header" id="tabbed-swiper--header">
                                                    <!-- TAB BOX -->
                                                        <div class="tab-box" data-id="0">
                                                            <div>
                                                                <img class="tab-1-img" src="{{ siteUrl }}assets/img/svg/project-description.svg" alt="{{ "Hlavná strana rozpis prác"|t|raw }}">
                                                                <div class="title">{{ "Hlavná strana<br>rozpis prác"|t|raw }}</div>
                                                            </div>
                                                        </div>
                                                    <!-- /TAB BOX -->

                                                    <!-- TAB BOX -->
                                                        <div class="tab-box active" data-id="1">
                                                            <div>
                                                                <img src="{{ siteUrl }}assets/img/svg/house-map.svg" alt="{{ "Pôdorys výkres"|t }}">
                                                                <div class="title">{{ "Pôdorys<br>výkres"|t|raw }}</div>
                                                            </div>
                                                        </div>
                                                    <!-- /TAB BOX -->

                                                    <!-- TAB BOX -->
                                                        <div class="tab-box {% if calculatorIsDisabled %} disabled {% endif %}" data-id="2">
                                                            <div>
                                                                <img class="tab-3-img" src="{{ siteUrl }}assets/img/svg/energy-level.svg" alt="{{ "Energetický kalkulátor"|t }}">
                                                                <div class="title">{{ "Energetický<br>kalkulátor"|t|raw }}</div>
                                                            </div>
                                                        </div>
                                                    <!-- /TAB BOX -->

                                                    <!-- TAB BOX -->
                                                        <div class="tab-box disabled" data-id="3" title="{{ "Táto funkcia bude čoskoro dostupná"|t }}">
                                                            <div>
                                                                <img src="{{ siteUrl }}assets/img/svg/materials.svg" alt="{{ "Vyberte si materiály vášho domu"|t }}">
                                                                <div class="title">{{ "Vyberte si<br>materiály<br>vášho domu"|t|raw }}</div>
                                                            </div>
                                                        </div>
                                                    <!-- /TAB BOX -->

                                                    <!-- TAB BOX -->
                                                        <div class="tab-box editor-show-tab" data-id="4" title="{{ "Táto funkcia bude čoskoro dostupná"|t }}">
                                                            <div>
                                                                <img class="tab-5-img" src="{{ siteUrl }}assets/img/svg/house-editor.svg" alt="{{ "Pôdorys editor"|t }}">
                                                                <div class="title">{{ "Osadenie<br>domu"|t|raw }}</div>
                                                            </div>
                                                        </div>
                                                    <!-- /TAB BOX -->
                                                </div>

                                                <div class="tabbed-body" id="tabbed-swiper--body">
                                                    <div class="swiper-container">
                                                        <div class="swiper-wrapper">
                                                            <div class="swiper-slide" data-hash="rozpis-prac">

                                                                <!-- TAB 1 -->
                                                                    <div class="tabbed-swiper-content">
                                                                        <div class="tabbed-layout-2-grid">
                                                                            <div>{{ entry.rozpisPracHolodom }}</div>
                                                                            <div>{{ entry.rozpisPracKomplet }}</div>
                                                                        </div>
                                                                    </div>
                                                                <!-- /TAB 1 -->

                                                            </div>
                                                            <div class="swiper-slide" data-hash="podorys-vykres">

                                                                <!-- TAB 4 -->
                                                                <div class="tabbed-swiper-content">

                                                                    <!-- MAP AREA -->
                                                                    <div class="map-area-grid">
                                                                        <div>
                                                                            <div id="map-area-swiper-container">
                                                                                <div class="swiper-container">
                                                                                    <div class="swiper-wrapper">
                                                                                        {% for gallery in entry.podorysVykres %}
                                                                                            <div class="swiper-slide">
                                                                                                <div data-fancybox="gallery" href="{{ gallery.url('houseDetailsPodorys') }}">
                                                                                                    <img src="{{ gallery.url('houseDetailsPodorys') }}" alt="{{ gallery.title }} - {{ entry.nazov }} | {{ siteName }}">
                                                                                                </div>
                                                                                            </div>
                                                                                        {% endfor %}
                                                                                    </div>
                                                                                </div>
                                                                                <!--<div class="swiper-pagination"></div>-->
                                                                            </div>
                                                                        </div>
                                                                        <div class="table-details">

                                                                            <div class="table">
                                                                                <div class="title">{{ "Legenda miestnosti"|t }}</div>
                                                                            </div>

                                                                            <!-- DETAILS TABLE -->
                                                                            {% if entry.legendaMiestnosti1Poschodie|length %}
                                                                            <div class="table">
                                                                                {% for table in entry.legendaMiestnosti1Poschodie %}
                                                                                <div class="{% if table.kiemelt %}bordered{% endif %}">
                                                                                    <div>{{ table.subject }}</div>
                                                                                    <div>{{ table.value }}</div>
                                                                                </div>
                                                                                {% endfor %}

                                                                                {% if entry.legendaMiestnosti2Poschodie|length %}
                                                                                {% for table in entry.legendaMiestnosti2Poschodie %}
                                                                                <div class="{% if table.kiemelt %}bordered{% endif %}">
                                                                                    <div>{{ table.subject }}</div>
                                                                                    <div>{{ table.value }}</div>
                                                                                </div>
                                                                                {% endfor %}
                                                                                {% endif %}

                                                                                {% if entry.legendaMiestnostiUzitkovaPlocha|length %}
                                                                                {% for table in entry.legendaMiestnostiUzitkovaPlocha %}
                                                                                <div class="{% if table.kiemelt %}bordered{% endif %}">
                                                                                    <div>{{ table.subject }}</div>
                                                                                    <div>{{ table.value }}</div>
                                                                                </div>
                                                                                {% endfor %}
                                                                                {% endif %}
                                                                            </div>
                                                                            {% endif %}
                                                                            <!-- /DETAILS TABLE -->

                                                                        </div>
                                                                    </div>
                                                                    <!-- /MAP AREA -->

                                                                </div>
                                                                <!-- /TAB 4 -->

                                                            </div>
                                                            <div class="swiper-slide" data-hash="energeticky-kalkulator">

                                                                <!-- TAB 3 -->
                                                                    <div class="tabbed-swiper-content">

                                                                        <!-- CALCULATOR DESCRIPTION -->
                                                                            <p>{{ "Pri každej kalkulácií treba zohľadniť dve zásadné položky: 1. ročná potreba tepla na vykurovanie, 2. ročná potreba energie na vykurovanie a prípravu teplej úžitkovej vody."|t }}</p>
                                                                            <p>{{ "Z týchto dvoch položiek sa potom vypočíta hodnota celkovej potreby energie a primámej energie, podľa ktorej sa určí energetická trieda rodinného domu. Ročná potreba tepla na vykurovanie závisí od tepelných strát domu. Obaľové konštrukcie sú navrhnuté tak aby spľňali požiadavku normy STN 73 0540-2 (Tepelná ochrana budov) z hľadiska hodnoty tepelného odporu. Nastaviť tieto hodnoty v kalkulátore nie sú možné, lebo počet variantov je nekonečný. V pripade zmeny hrúbiek tepelných izolácií, hodnotu celkovej potreby energie vypočítame na daný dom individuálne."|t }}</p>
                                                                        <!-- /CALCULATOR DESCRIPTION -->

                                                                        <!-- MAIN CALCULATOR -->
                                                                            <div class="calculator-body" ng-app="calculator" ng-controller="calcCtrl" ng-init="setHouseType('{{ entry.nazov }}')" data-calculator-data="{{ calculatorData|json_encode() }}">
                                                                                <h3>{{ "Energetický kalkulátor"|t }}</h3>
                                                                                <div>

                                                                                    <!-- RIGHT 2 COL -->
                                                                                        <div class="result-col col-first">
                                                                                            <div class="title">{{ "Rodinný dom s vybeveným:"|t }}</div>

                                                                                            <!-- CALCULATOR CONTROLS INSIDE -->
                                                                                                <div class="control-panel">

                                                                                                    <!-- CONTROL BLOCK -->
                                                                                                        <div class="control-block">
                                                                                                            <div class="title">{{ "Zdroj tepla"|t }}</div>
                                                                                                            <div class="field-group">
                                                                                                                <input name="a_1" type="radio" id="a1_1" ng-checked="calcVals[0].part1=='1'" ng-click="changePart1('1','plynový kondenzačný kotoľ', 1)" checked="checked">
                                                                                                                <label for="a1_1"><span></span>{{ "plynový kondenzačný kotoľ"|t }}</label>
                                                                                                            </div>
                                                                                                            <div class="show-more">
                                                                                                                <img src="{{ siteUrl }}assets/img/arrow-left.png" alt="Arrow left" />
                                                                                                            </div>
                                                                                                            <div class="hidden-fields">
                                                                                                                <div class="field-group">
                                                                                                                    <input name="a_1" type="radio" id="a2_1" ng-checked="calcVals[0].part1=='2'" ng-click="changePart1('2','splyňovací kotoľ na tuhé palivo', 1)">
                                                                                                                    <label for="a2_1"><span></span>{{ "splyňovací kotoľ na tuhé palivo"|t }}</label>
                                                                                                                </div>
                                                                                                                <div class="field-group">
                                                                                                                    <input name="a_1" type="radio" id="a3_1" ng-checked="calcVals[0].part1=='3'" ng-click="changePart1('3','tepelné čerpadlo', 1)">
                                                                                                                    <label for="a3_1"><span></span>{{ "tepelné čerpadlo"|t }}</label>
                                                                                                                </div>
                                                                                                                <div class="field-group">
                                                                                                                    <input name="a_1" type="radio" id="a4_1" ng-checked="calcVals[0].part1=='4'" ng-click="changePart1('4','elektrické vykurovanie', 1)">
                                                                                                                    <label for="a4_1"><span></span>{{ "elektrické vykurovanie"|t }}</label>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    <!-- /CONTROL BLOCK -->

                                                                                                    <!-- CONTROL BLOCK -->
                                                                                                        <div class="control-block">
                                                                                                            <div class="title">{{ "Odovzdávací systém"|t }}</div>
                                                                                                            <div class="field-group">
                                                                                                                <input name="b_1" type="radio" id="b1_1" ng-checked="calcVals[0].part2=='1'" ng-click="changePart2('1','teplovodné vykurovacie telesá - radiátory', 1)" ng-disabled="calcVals[0].part1=='3' || calcVals[0].part1=='4'" checked="checked">
                                                                                                                <label for="b1_1"><span></span>{{ "teplovodné vykurovacie telesá - radiátory"|t }}</label>
                                                                                                            </div>
                                                                                                            <div class="show-more">
                                                                                                                <img src="{{ siteUrl }}assets/img/arrow-left.png" alt="Arrow left" />
                                                                                                            </div>
                                                                                                            <div class="hidden-fields">
                                                                                                                <div class="field-group">
                                                                                                                    <input name="b_1" type="radio" id="b2_1" ng-checked="calcVals[0].part2=='2'" ng-click="changePart2('2','teplovodné podlahové kúrenie', 1)" ng-disabled="calcVals[0].part1=='4'">
                                                                                                                    <label for="b2_1"><span></span>{{ "teplovodné podlahové kúrenie"|t }}</label>
                                                                                                                </div>
                                                                                                                <div class="field-group">
                                                                                                                    <input name="b_1" type="radio" id="b3_1" ng-checked="calcVals[0].part2=='3'" ng-click="changePart2('3','stropné kúrenie (s možnosťou chladenia)', 1)" ng-disabled="calcVals[0].part1=='1' || calcVals[0].part1=='2' || calcVals[0].part1=='4'" disabled="disabled">
                                                                                                                    <label for="b3_1"><span></span>{{ "stropné kúrenie (s možnosťou chladenia)"|t }}</label>
                                                                                                                </div>
                                                                                                                <div class="field-group">
                                                                                                                    <input name="b_1" type="radio" id="b4_1" ng-checked="calcVals[0].part2=='4'" ng-click="changePart2('4','elektrické podlahové kúrenie s termokáblami', 1)" ng-disabled="calcVals[0].part1=='1' || calcVals[0].part1=='2' || calcVals[0].part1=='3'" disabled="disabled">
                                                                                                                    <label for="b4_1"><span></span>{{ "elektrické podlahové kúrenie s termokáblami"|t }}</label>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    <!-- /CONTROL BLOCK -->

                                                                                                    <!-- CONTROL BLOCK -->
                                                                                                        <div class="control-block">
                                                                                                            <div class="title">{{ "Rekuperácia"|t }}</div>
                                                                                                            <div class="field-group">
                                                                                                                <input name="c_1" type="checkbox" id="c1_1" ng-checked="calcVals[0].part3=='1'" ng-click="changePart3(1)">
                                                                                                                <label for="c1_1"><span></span>{{ "rekuperácia - umelé vetranie bez tepelných strát (cez vzdušný výmenník tepla)"|t }}</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    <!-- /CONTROL BLOCK -->

                                                                                                </div>
                                                                                            <!-- /CALCULATOR CONTROLS INSIDE -->

                                                                                            <div class="result-visual">
                                                                                                <img ng-src="{{ siteUrl }}assets/img/calculator/class_{[{calcVals[1].eclass}]}.png" alt=""/>
                                                                                            </div>

                                                                                            <div class="results">
                                                                                                <div class="results-row">
                                                                                                    <div>{{ "Primárna energia na m2:"|t }}</div>
                                                                                                    <strong>{[{calcVals[1].primar | numberFilter }]} kWh/rok*m<sup>2</sup></strong>
                                                                                                </div>
                                                                                                <div class="results-row">
                                                                                                    <div>{{ "Energetická trieda:"|t }}</div>
                                                                                                    <strong class="eclass eclass_{[{calcVals[1].eclass}]}">{[{calcVals[1].eclass}]}</strong>
                                                                                                </div>
                                                                                                <div class="results-row">
                                                                                                    <div>{{ "Celková ročná potreba energie:"|t }}</div>
                                                                                                    <strong>{[{calcVals[1].total | numberFilter }]} kWh/rok</strong>
                                                                                                </div>
                                                                                                <div class="results-row">
                                                                                                    <div>{{ "Náklady na mesačnú réžiu:"|t }}</div>
                                                                                                    <strong class="with-bg">{[{calcVals[1].costs | numberFilter }]} &euro;</strong>
                                                                                                </div>

                                                                                                <div class="price-row">
                                                                                                    <div>
                                                                                                        <div>{{ "Holodom"|t }}</div>
                                                                                                        <strong>{[{calcVals[1].holodom | number: 2 }]} &euro;</strong>
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <div>{{ "Komplet"|t }}</div>
                                                                                                        <strong>{[{calcVals[1].housekey | number: 2 }]} &euro;</strong>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- SIDE SWITCHER -->
                                                                                                <div class="side-switcher-container _hidden" ng-click="toggleSide()" ng-class="{'on': sideIsRight()}">
                                                                                                    <div>
                                                                                                        <input name="r" type="checkbox" id="r1"/>
                                                                                                    </div>
                                                                                                </div>
                                                                                            <!-- /SIDE SWITCHER -->

                                                                                        </div>
                                                                                        <div class="result-col col-second">
                                                                                            <div class="title">{{ "Rodinný dom s vybeveným:"|t }}</div>

                                                                                            <!-- CALCULATOR CONTROLS INSIDE -->
                                                                                                <div class="control-panel second">

                                                                                                    <!-- CONTROL BLOCK -->
                                                                                                        <div class="control-block">
                                                                                                            <div class="title"></div>
                                                                                                            <div class="field-group">
                                                                                                                <input name="a_2" type="radio" id="a1_2" ng-checked="calcVals[3].part1=='1'" ng-click="changePart1('1','plynový kondenzačný kotoľ', 2)" checked="checked">
                                                                                                                <label for="a1_2"><span></span>{{ "plynový kondenzačný kotoľ"|t }}</label>
                                                                                                            </div>
                                                                                                            <div class="show-more">
                                                                                                                <img src="{{ siteUrl }}assets/img/arrow-left.png" alt="Arrow left" />
                                                                                                            </div>
                                                                                                            <div class="hidden-fields">
                                                                                                                <div class="field-group">
                                                                                                                    <input name="a_2" type="radio" id="a2_2" ng-checked="calcVals[3].part1=='2'" ng-click="changePart1('2','splyňovací kotoľ na tuhé palivo', 2)">
                                                                                                                    <label for="a2_2"><span></span>{{ "splyňovací kotoľ na tuhé palivo"|t }}</label>
                                                                                                                </div>
                                                                                                                <div class="field-group">
                                                                                                                    <input name="a_2" type="radio" id="a3_2" ng-checked="calcVals[3].part1=='3'" ng-click="changePart1('3','tepelné čerpadlo', 2)">
                                                                                                                    <label for="a3_2"><span></span>{{ "tepelné čerpadlo"|t }}</label>
                                                                                                                </div>
                                                                                                                <div class="field-group">
                                                                                                                    <input name="a_2" type="radio" id="a4_2" ng-checked="calcVals[3].part1=='4'" ng-click="changePart1('4','elektrické vykurovanie', 2)">
                                                                                                                    <label for="a4_2"><span></span>{{ "elektrické vykurovanie"|t }}</label>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    <!-- /CONTROL BLOCK -->

                                                                                                    <!-- CONTROL BLOCK -->
                                                                                                        <div class="control-block">
                                                                                                            <div class="title">{{ "Odovzdávací systém"|t }}</div>
                                                                                                            <div class="field-group">
                                                                                                                <input name="b_2" type="radio" id="b1_2" ng-checked="calcVals[3].part2=='1'" ng-click="changePart2('1','teplovodné vykurovacie telesá - radiátory', 2)" ng-disabled="calcVals[3].part1=='3' || calcVals[3].part1=='4'" checked="checked">
                                                                                                                <label for="b1_2"><span></span>{{ "teplovodné vykurovacie telesá - radiátory"|t }}</label>
                                                                                                            </div>
                                                                                                            <div class="show-more">
                                                                                                                <img src="{{ siteUrl }}assets/img/arrow-left.png" alt="Arrow left" />
                                                                                                            </div>
                                                                                                            <div class="hidden-fields">
                                                                                                                <div class="field-group">
                                                                                                                    <input name="b_2" type="radio" id="b2_2" ng-checked="calcVals[3].part2=='2'" ng-click="changePart2('2','teplovodné podlahové kúrenie', 2)" ng-disabled="calcVals[3].part1=='4'">
                                                                                                                    <label for="b2_2"><span></span>{{ "teplovodné podlahové kúrenie"|t }}</label>
                                                                                                                </div>
                                                                                                                <div class="field-group">
                                                                                                                    <input name="b_2" type="radio" id="b3_2" ng-checked="calcVals[3].part2=='3'" ng-click="changePart2('3','stropné kúrenie (s možnosťou chladenia)', 2)" ng-disabled="calcVals[3].part1=='1' || calcVals[3].part1=='2' || calcVals[3].part1=='4'" disabled="disabled">
                                                                                                                    <label for="b3_2"><span></span>{{ "stropné kúrenie (s možnosťou chladenia)"|t }}</label>
                                                                                                                </div>
                                                                                                                <div class="field-group">
                                                                                                                    <input name="b_2" type="radio" id="b4_2" ng-checked="calcVals[3].part2=='4'" ng-click="changePart2('4','elektrické podlahové kúrenie s termokáblami', 2)" ng-disabled="calcVals[3].part1=='1' || calcVals[3].part1=='2' || calcVals[3].part1=='3'" disabled="disabled">
                                                                                                                    <label for="b4_2"><span></span>{{ "elektrické podlahové kúrenie s termokáblami"|t }}</label>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    <!-- /CONTROL BLOCK -->

                                                                                                    <!-- CONTROL BLOCK -->
                                                                                                        <div class="control-block">
                                                                                                            <div class="title">{{ "Rekuperácia"|t }}</div>
                                                                                                            <div class="field-group">
                                                                                                                <input name="c_2" type="checkbox" id="c1_2" ng-checked="calcVals[3].part3=='1'" ng-click="changePart3(2)">
                                                                                                                <label for="c1_2"><span></span>{{ "rekuperácia - umelé vetranie bez tepelných strát (cez vzdušný výmenník tepla)"|t }}</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    <!-- /CONTROL BLOCK -->

                                                                                                </div>
                                                                                            <!-- /CALCULATOR CONTROLS INSIDE -->

                                                                                            <div class="result-visual">
                                                                                                <img ng-src="{{ siteUrl }}assets/img/calculator/class_{[{calcVals[2].eclass}]}.png" alt=""/>
                                                                                            </div>

                                                                                            <div class="results">
                                                                                                <div class="results-row">
                                                                                                    <div>{{ "Primárna energia na m2:"|t }}</div>
                                                                                                    <strong>{[{calcVals[2].primar | numberFilter }]} kWh/rok*m<sup>2</sup></strong>
                                                                                                </div>
                                                                                                <div class="results-row">
                                                                                                    <div>{{ "Energetická trieda:"|t }}</div>
                                                                                                    <strong class="eclass eclass_{[{calcVals[2].eclass}]}">{[{calcVals[2].eclass}]}</strong>
                                                                                                </div>
                                                                                                <div class="results-row">
                                                                                                    <div>{{ "Celková ročná potreba energie:"|t }}</div>
                                                                                                    <strong>{[{calcVals[2].total | numberFilter }]} kWh/rok</strong>
                                                                                                </div>
                                                                                                <div class="results-row">
                                                                                                    <div>{{ "Náklady na mesačnú réžiu:"|t }}</div>
                                                                                                    <strong class="with-bg">{[{calcVals[2].costs | numberFilter }]} &euro;</strong>
                                                                                                </div>

                                                                                                <div class="price-row">
                                                                                                    <div>
                                                                                                        <div>{{ "Holodom"|t }}</div>
                                                                                                        <strong>{[{calcVals[2].holodom | number : 2}]} &euro;</strong>
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <div>{{ "Komplet"|t }}</div>
                                                                                                        <strong>{[{calcVals[2].housekey | number : 2}]} &euro;</strong>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>

                                                                                        </div>
                                                                                    <!-- /RIGHT 2 COL -->
                                                                                </div>
                                                                            </div>
                                                                        <!-- /MAIN CALCULATOR -->

                                                                        <p>{{ "Uvedené ceny nezahŕňajú pripojenia na inžinierske siete."|t }}</p>
                                                                        <p>{{ "V kalkulácii "Náklady na mesačnú réžiu" nie je zahrnutá pevná mesačná zložka podľa ampérickej hodnoty hlavného ističa a pevná mesačná platba za jedno odberné miesto. Uvedené režijné náklady sú vypočítané podľa výhrevnosti palív, účinnosti tepelného zdroja, aktuálnych cien palív a elektrickej energie."|t }}</p>
                                                                        <p>{{ "Uvedené energetické hodnoty nie sú dokonalo presné, môžu sa líšiť pri inej orientácii domov k svetovým stranám. Primárnou nazývame energiu vo forme, v akej sa vyskytujev prírode (napr.: uhlie, ropa, zemný plyn, drevo, vietor, vodná energia, prírodný urán, slnečné žiarenie). Pri výpočte primárnej energie sa ročná potreba energie vynásobý s príslušným váhovým faktorom používanej primárnej energie a tiež sa určí množstvo emisií CO2. Preto primárna energia podľa čoho sa dom zaradí do energetickej triedy nie je priamo úmerná s mesačnými nákladmi."|t }}</p>

                                                                    </div>
                                                                <!-- /TAB 3 -->

                                                            </div>
                                                            <div class="swiper-slide" data-hash="materialy-vasho-domu">

                                                                <!-- TAB 2 -->
                                                                    <div class="tabbed-swiper-content">
                                                                        2
                                                                    </div>
                                                                <!-- /TAB 2 -->

                                                            </div>
                                                            <div class="swiper-slide" data-hash="podorys-editor">

                                                                <!-- TAB 5 -->
                                                                    <div class="tabbed-swiper-content">
                                                                        {% embed '_components/editor' %}{% endembed %}
                                                                        <div class="notice">
                                                                            <p>{{ "Tento editor nefunguje na mobilných zariadeniach ani tabletoch!"|t }}</p>
                                                                        </div>
                                                                    </div>
                                                                <!-- /TAB 5 -->

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        <!-- /TABBED DETAILS -->

                                    </div>
                                <!-- HOUSE DETAILS-->

                                {% if entry.podobneDomy is not empty %}

                                    <!-- RELATED HOUSES -->
                                        <div class="related-houses">
                                            <h2 class="plain">{{ "Podobné domy"|t }}</h2>

                                            <div id="related-list-container">
                                                <div class="swiper-button-prev"></div>
                                                <div class="swiper-container">
                                                    <div class="swiper-wrapper">
                                                        {% for house in entry.podobneDomy %}

                                                            <div class="swiper-slide">
                                                                <!-- HOUSE ELEM -->
                                                                    <a href="{{ house.url }}" class="house-elem">
                                                                        {% set houseCover = house.vizualy.first() %}
                                                                        <img src="{{ houseCover.url('relatedHousesCover') }}" alt="{{ houseCover.title }} - {{ entry.nazov }} | Familyhouse" />
                                                                        <div class="details">
                                                                            <div class="top">
                                                                                <div class="name">
                                                                                    <div class="counter">#{{ house.id }}</div>
                                                                                    <div>{{ house.nazov }}</div>
                                                                                </div>

                                                                                {% if house.stitok != '' %}
                                                                                    <div class="label" style="background: {{ house.stitokFarba.value }} ">
                                                                                        <div>{{ house.stitok }}</div>
                                                                                    </div>
                                                                                {% endif %}

                                                                            </div>
                                                                            <div class="bottom">
                                                                                <div class="box"></div>
                                                                            </div>
                                                                        </div>
                                                                    </a>
                                                                <!-- /HOUSE ELEM -->
                                                            </div>

                                                        {% endfor %}
                                                    </div>
                                                </div>
                                                <div class="swiper-button-next"></div>
                                            </div>
                                        </div>
                                    <!-- /RELATED HOUSES -->

                                {% endif %}

                            </div>
                        </div>
                    <!-- /HOUSE LISTING -->
                </div>
            <!-- /FILTER + HOUSE LISTING -->

        </div>
    <!-- /CONTENT CONTAINER -->

{% endblock %}
